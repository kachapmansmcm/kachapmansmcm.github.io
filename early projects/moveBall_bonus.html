<div
  id="ball_container"
  style="
    border: thick solid black;
    height: 515px;
    width: 515px;
    top: 0px;
    left: 0px;
    z-index: 12;
  "
></div>

<script>
  const container_block = document.getElementById("ball_container");

  function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive
  }

  function createBall(ballObject) {
    let color = Math.floor(Math.random() * 16777215).toString(16);
    let new_ball = document.createElement("div");
    new_ball.id = ballObject.id;
    new_ball.style.zIndex = ballObject.zIndex;
    new_ball.style.position = "absolute";
    new_ball.style.left = "0px";
    new_ball.style.top = "0px";
    new_ball.style.width = "30px";
    new_ball.style.height = "30px";
    new_ball.style.borderRadius = "50%";
    new_ball.style.background = `radial-gradient(circle at 10px 10px, #${color}, #000)`;
    return new_ball;
  }

  const ballArray = [];

  function createBallObject() {
    let ballObject = new Object();
    ballObject.id = "ball" + ballArray.length.toString();
    ballObject.zIndex = getRandomInt(1, 10);
    ballObject.velocityX = getRandomInt(1, 10);
    ballObject.positionX = 0;
    ballObject.velocityY = getRandomInt(1, 10);
    ballObject.positionY = 0;
    ballObject.down = true;
    ballObject.forward = true;
    return ballObject;
  }

  function addNewBall() {
    let newBallObject = createBallObject();
    ballArray.push(newBallObject);
    let ball_div = createBall(newBallObject);
    container_block.appendChild(ball_div);
  }

  function removeBall() {
    let ball = ballArray[0];
    let ballDivToRemove = document.getElementById(ball.id);
    ballDivToRemove.remove();
    ballArray.shift();
  }

  var addingBalls = true;
  function ballManagement() {
    console.log(ballArray.length);
    if (ballArray.length == 1) {
      addingBalls = true;
    } else if (ballArray.length == 100) {
      addingBalls = false;
    }

    if (addingBalls) {
      addNewBall();
    } else {
      removeBall();
    }
  }

  function moveIt(value) {
    let ball = document.getElementById(value.id);
    if (value.forward) {
      value.positionX = value.positionX + value.velocityX;
    } else {
      value.positionX = value.positionX - value.velocityX;
    }
    if (value.down) {
      value.positionY = value.positionY + value.velocityY;
    } else {
      value.positionY = value.positionY - value.velocityY;
    }
    if (value.positionX >= 500) {
      value.forward = false;
    } else if (value.positionX <= 10) {
      value.forward = true;
    }
    if (value.positionY >= 500) {
      value.down = false;
    } else if (value.positionY <= 10) {
      value.down = true;
    }
    ball.style.left = value.positionX + "px";
    ball.style.top = value.positionY + "px";
  }

  function parseArray(ballArray) {
    ballArray.forEach(moveIt);
  }

  addNewBall();
  setInterval(parseArray, 10, ballArray);
  setInterval(ballManagement, 1000);
  // YOUR CODE
  // ----------------
</script>
